<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="/bower_components/semantic/dist/semantic.min.css"></link>
		<title>TheConnMan - Chat</title>
		<style>
			.content.minimal {
				font-style: italic;
				opacity: 0.5;
			}
			.ui.segment.content {
				margin-left: auto;
				margin-right: auto;
				max-width: 800px;
			}
		</style>
	</head>
	<body ng-app="chat" ng-controller="Chat">
		<div class="ui segment">
			<h1 class="ui header">TheConnMan - Chat</h1>
		</div>
		<div class="ui compact segment" style="margin-left: auto; margin-right: auto;" ng-show="!init">
			<div class="ui right action labeled input">
				<div class="ui label">
					Username
				</div>
				<input id="username" type="text" ng-model="username" placeholder="Username" enter="sendUsername()" />
				<button class="ui primary right labeled icon button" ng-click="sendUsername()">
					Chat
					<i class="right arrow icon"></i>
				</button>
			</div>
		</div>
		<div class="ui segment content" ng-show="init">
			<h2 class="ui dividing header">Messages</h2>
			<div class="ui large feed">
				<div class="event" ng-repeat="message in messages">
					<div class="content minimal" ng-if="message.type == 'join'">
						{{ message.text }}
					</div>
					<div class="content" ng-if="message.type != 'join' && differentUser($index)">
						<div class="summary">
							{{ message.user }}
							<div class="date">
								{{ message.date }}
							</div>
						</div>
						<div class="extra text">
							{{ message.text }}
						</div>
					</div>
					<div class="content" ng-if="message.type != 'join' && !differentUser($index)">
						{{ message.text }}
					</div>
				</div>
			</div>
		</div>
		<div class="ui segment content" ng-show="init">
			<div class="ui right action fluid input">
				<input id="message" type="text" ng-model="message" placeholder="Message" enter="sendMessage()" />
				<button class="ui primary right labeled icon button" ng-click="sendMessage()">
					Send
					<i class="right arrow icon"></i>
				</button>
			</div>
		</div>
		<script src="/bower_components/jquery/dist/jquery.min.js"></script>
		<script src="/bower_components/semantic/dist/semantic.min.js"></script>
		<script src="/bower_components/angular/angular.min.js"></script>
		<script src="/bower_components/angular-socket-io/socket.min.js"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script src="/app.js"></script>
	</body>
</html>
